<%!
    from global_config import DOMAIN, BLOG_NAME, TWITTER_NAME, TRACKING_CODE
    from datetime import datetime
%>
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>${self.title()}</title>
  <link rel="stylesheet" href="${url_for('static', filename='chili.css')}" />
  <link rel="alternate" type="application/rss+xml" title="RSS Feed for ${DOMAIN}" href="/rss.xml" />
  <script src="${url_for('static', filename='jquery-1.8.1.min.js')}" type="text/javascript"></script>
  <script src="${url_for('static', filename='repo.min.js')}" type="text/javascript"></script>
  <script src="${url_for('static', filename='chili.js')}" type="text/javascript"></script>
</head>
<body>
  ${self.header()}
  ${self.content()}
  ${self.footer()}
  ${self.bottom_script()}
  ${self.tracking()}
</body>
</html>

<%def name="title()">${self.page_title()} | ${BLOG_NAME.decode('utf8')}</%def>
<%def name="page_title()"></%def>

<%def name="header()">
<div id="header">
  <div id="header-inner" class="clearfix">
    <a href="/"><h1>${BLOG_NAME.decode('utf8')}</h1></a>
  </div>
</div>
</%def>

<%def name="content()">
<div id="wrap">
  <div id="content" class="clearfix">
    <div id="main">
      ${self.main()}
    </div>
  </div>
</div>
</%def>

<%def name="main()"></%def>

<%def name="footer()">
<div id="footer">
  <div id="footer-inner">
    ${datetime.now().year} Â© ${DOMAIN}
    % if TWITTER_NAME:
    <a href="http://twitter.com/${TWITTER_NAME}" target="_blank">@${TWITTER_NAME}</a>
    % endif
    <span class="fright">Powered by <a href="http://chilipy.com">Chili</a></span>
  </div>
</div>
</%def>

<%def name="tracking()">
${TRACKING_CODE if TRACKING_CODE else ''}
</%def>

<%def name="bottom_script()"></%def>
